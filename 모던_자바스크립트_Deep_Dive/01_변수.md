### 01. 변수

---

#### 1. 변수란 무엇인가? 왜 필요한가?

---

- 프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 `변수`라는 메커니즘을 제공한다.
- `변수(variable)`는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.
  - 간단히 말하면 **값의 위치를 가라키는 상징적인 이름**이다.
- 할당(assignment) (=대입, 저장)
  - 변수에 값을 저장하는 것
- 참조(reference)
  - 변수에 저장된 값을 읽어 들이는 것
- 코드는 개발자를 위한 문서이기도 하다. 따라서 개발자의 의도를 나타내는 명확한 네이밍은 코드를 이해하기 쉽게 만들며, 이는 협업과 품질 향상에 도움을 준다.

<br>

#### 2. 식별자

---

- 식별자(identifier)
  - 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 식별자는 값이 아니라 메모리 주소를 기억하고 있다.
  - 식별자로 값을 구별해서 식별한다는 것은 식별자가 기억하고 있는 메모리 주소를 통해 메모리 공간에 저장된 값에 접근할수 있다는 의미이다. 즉, 식별자는 메모리 주소에 붙인 이름이라고 할 수 있다.
- 식별자는 변수, 함수, 클래스 등의 이름을 모두 포함한다.
  - **메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자라고 부른다.**
- result(변수이름 - 식별자) &rightarrow; 0x0669F913(메모리 주소) [30 - 메모리]
- 변수, 함수, 클래스 등의 이름과 같은 식별자는 네이밍 규칙을 준수해야 하며, **선언**에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

<br>

#### 3. 변수 선언

---

- 변수 선언(variable declaration)이란 변수를 생성하는 것을 말한다.
  - 값을 저장하기 위한 메모리 공간을 확보하고, 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것이다.
- 변수를 사용하려면 반드시 선언이 필요하다. 변수를 선언할 때는 var, let, const 키워드를 사용한다.
- ```javascript
  var score;
  ```
  - 변수 선언에 의해 확보된 메모리 공간은 비어있을 것으로 생각할 수 있으나 확보된 메모리 공간에는 자바스크립트 엔진에 의해 undefined라는 값이 암묵적으로 할당되어 초기화도니다. 이것은 자바스크립트의 독특한 특징이다.
- 자바스크립트의 변수 선언 과정
  - `선언 단계` : 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
  - `초기화 단계` : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.
- **변수 이름은 어디에 등록되는가?**
  - 변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다.
    - 실행 컨텍스트는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.
    - 자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리한다.
    - 변수 이름과 변수 값은 실행 컨텍스트 내에 키/값 형식인 객체로 등록되어 관리된다.
- 선언하지 않은 식별자에 접근하면 ReferenceError(참조에러)가 발생한다.

<br>

#### 4. 변수 선언의 실행 시점과 변수 호이스팅

---

- ```javascript
  console.log(score); // undefined
  var score; // 변수 선언문
  ```
- 위의 코드에서 참조 에러가 발생하지 않고 undefined가 출력되는 것은 **변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점, 즉 런타임(runtime)이 아니라 그 이전 단계에서 먼저 실행되기 때문이다.**
- 자바스크립트는 소스코드 실행 전에 평가 과정을 거치면서 변수 선언을 포함한 모든 선언문(변수 선언문, 함수 선언문 등)을 소스코드에서 찾아내 먼저 실행한다. 평가 과정이 끝나면 변수 선언을 포함한 모든 선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행한다.
- 변수 호이스팅(variable hoisting)
  - 변수 선언문이 코드의 상단으로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징

<br>

#### 5. 값의 할당

---

- ```javascript
  var score = 80; // 변수 선언과 값의 할당
  ```
  - 변수 선언과 값의 할당을 2개의 문으로 나누어 표현한 코드와 변수 선언과 값을 할당을 하나의 문으로 단축 표현한 코드는 정확히 동일하게 동작한다.
    - 자바스크립트 엔진은 변수 선언과 값의 할당을 하나의 문으로 단축 표현해도 변수 선언과 값의 할당을 2개의 문으로 나누어 각각 실행한다.
- `변수 선언과 값의 할당의 실행시점은 다르다!`

  - 변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만 값의 할당은 소스코드가 순차적으로 실행되는 런타임에 실행된다.
  - 평가 과정(변수 선언) &rightarrow; 런타임(값 할당)

    - ```javascript
      console.log(score); // undefined

      var score; // 1. 변수 선언
      score = 80; // 2. 값의 할당

      console.log(score); // 80
      ```

- 주의할 점
  - 변수에 값을 할당할 때는 이전 값 undefined가 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 할당 값 80을 새롭게 저장하는 것이 아니라 **새로운 메모리 공간을 확보하고 그곳에 할당 값 80을 저장한다.**
  - var score
    - score &rightarrow; 0x000000F2 [undefined]
  - score = 80
    - score &rightarrow; 0x00001332 [80]

<br>

#### 6. 값의 재할당

---

- 값을 재할당하는 경우에도 메모리 공간을 지우고 그 메모리 공간에 재할당 값을 새롭게 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 그 메모리 공간에 값을 저장한다.
- 값을 재할당하면 이전에 사용하던 매모리 공간은 어떠한 식별자와도 연결되어있지 않다. 이것은 더이상 필요하지 않다는 것을 의미한다. 아무도 사용하고 있지 않으니 필요하지 않은 것이다. 이러한 불필요한 값들은 `가비지 컬렉터`에 의해 메모리에서 자동해제된다.
- `가비지 컬렉터`
  - 애플리케이션 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능
  - 더이상 사용되지 않는 메모리란 간단히 말하면 **어떤 식별자도 참조하지 않는 메모리 공간**을 의미한다.
  - 자바스크립트는 가비지 컬렉터를 통해 메모리 누수를 방지한다.
- 자바스크립트는 가비지 컬렉터를 통해 어느 정도 일정한 생산성을 확보할 수 있지만 **성능 면에서 어느 정도의 손실은 감수할 수 밖에 없다.**
