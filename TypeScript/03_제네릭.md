### 03. ì œë„¤ë¦­

---

- Generic

  - ë‹¤ì–‘í•œ íƒ€ì…ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥
  - í•¨ìˆ˜, í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” íƒ€ì…ì— ì ìš©í•  ìˆ˜ ìˆìœ¼ë©°, **ìœ ì—°í•˜ë©´ì„œë„ íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥**

<br>

- ì œë„¤ë¦­ì˜ ì¥ì 

  - ì½”ë“œ ì¬ì‚¬ìš©ì„±: ì—¬ëŸ¬ íƒ€ì…ì—ì„œ ë™ì¼í•œ ë¡œì§ ì‚¬ìš© ê°€ëŠ¥
  - íƒ€ì… ì•ˆì „ì„±: ì»´íŒŒì¼ ì‹œì ì— íƒ€ì… ê²€ì‚¬ë¥¼ í†µí•´ ì˜¤ë¥˜ ë°©ì§€
  - ìë™ íƒ€ì… ì¶”ë¡ : ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì œë„¤ë¦­ íƒ€ì…ì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ ì¶”ë¡ 

<br>

- í•¨ìˆ˜ë¥¼ ì œë„¤ë¦­í•˜ê²Œ

```typescript
{
  // ì•„ë˜ì˜ í•¨ìˆ˜ëŠ” ìˆ«ìë§Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.
  function checkNotNullBad(arg: number | null): number {
    if (arg == null) {
      throw new Error("not valid number!");
    }
    return arg;
  }

  // ì•„ë˜ì˜ í•¨ìˆ˜ëŠ” íƒ€ì…ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
  function checkNotNullAnyBad(arg: any | null): any {
    if (arg == null) {
      throw new Error("not valid number!");
    }
    return arg;
  }

  // ì œë„¤ë¦­ : í†µìƒì ì¸, ì¼ë°˜ì ì¸
  // ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì–´ë–¤ íƒ€ì…ì¸ì§€ ê²°ì •í•  ìˆ˜ ìˆê³ , ìœ ì—°í•˜ì§€ë§Œ ì»´íŒŒì¼ ì‹œì ì—ì„œ íƒ€ì…ì´ ë³´ì¥ëœë‹¤.

  function checkNotNull<GENERIC>(arg: GENERIC | null): GENERIC {
    // ë³´í†µ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•¨
    // function checkNotNull<T>(arg: T | null): T {
    if (arg == null) {
      throw new Error("not valid number!");
    }
    return arg;
  }
  const number = checkNotNull(123);
  const boal: boolean = checkNotNull(true);
}
```

<br>

- í´ë˜ìŠ¤ë¥¼ ì œë„¤ë¦­í•˜ê²Œ

```typescript
// either: a or b
// Eitherì´ë¼ëŠ” interfaceëŠ” Lê³¼ R íƒ€ì…ì´ ìˆëŠ”ë°, ì§€ê¸ˆì€ ì–´ë–¤ íƒ€ì…ì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.
// ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì´ ê²°ì •í•  ê²ƒì´ë‹¤.
interface Either<L, R> {
  left: () => L;
  right: () => R;
}

class SimpleEither<L, R> implements Either<L, R> {
  constructor(private leftValue: L, private rightValue: R) {}

  left(): L {
    return this.leftValue;
  }

  right(): R {
    return this.rightValue;
  }
}

const either: Either<number, number> = new SimpleEither(4, 5);
either.left(); // 4
either.right(); // 5

const best = new SimpleEither({ name: "ellie" }, "hello");
```

<br>

- ì œë„¤ë¦­ ì¡°ê±´ & ì˜ˆì œ

```typescript
interface Employee {
  pay(): void;
}

class FullTimeEmployee implements Employee {
  pay() {
    console.log(`full time!!!`);
  }

  workFullTime() {}
}

class PartTimeEmployee implements Employee {
  pay() {
    console.log(`part time!!!`);
  }

  workPartTime() {}
}

// ì„¸ë¶€ì ì¸ íƒ€ì…ì„ ì¸ìë¡œ ë°›ì•„ì„œ ì •ë§ ì¶”ìƒì ì¸ íƒ€ì…ìœ¼ë¡œ ë‹¤ì‹œ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ëŠ” ğŸ’©ğŸ’©ğŸ’©
// íƒ€ì…ì„ ì¡°ê¸ˆ ì¶”ìƒì ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
function payBad(employee: Employee): Employee {
  employee.pay();
  return employee;
}

// ì œë„¤ë¦­ì€ ì¼ë°˜ì ì¸ íƒ€ì…ì´ê¸° ë•Œë¬¸ì— ì½”ë”©ì„ í•˜ëŠ” ì‹œì ì—ëŠ” employeeì— payí•¨ìˆ˜ê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€
// ìˆ«ìì¸ì§€ ë¬¸ìì¸ì§€ ì •ë³´ê°€ ì—†ë‹¤. ë”°ë¼ì„œ pay í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
// ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ constrains(ì¡°ê±´)ì„ ê±¸ ìˆ˜ ìˆë‹¤.
// <T extends Employee>
function pay<T extends Employee>(employee: T): T {
  employee.pay();
  return employee;
}

const ellie = new FullTimeEmployee();
const bob = new PartTimeEmployee();
ellie.workFullTime();
bob.workPartTime();

// ellieëŠ” FullTimeEmployeeì´ê³ , ì´ê²ƒì„ payì— ì „ë‹¬í•˜ë©´ FullTimeEmployeeì˜ ì •ë³´(ì„¸ë¶€ í´ë˜ìŠ¤ì˜ ì •ë³´)ë¥¼ ìƒì–´ë²„ë¦°ë‹¤.
// ìš°ë¦¬ê°€ ì •ë§ì •ë§ ìì‹ ì´ ìˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ asë¥¼ ì‚¬ìš©í•´ì„œ ìºìŠ¤íŒ…í•  ìˆ˜ë„ ìˆë‹¤.
// í•˜ì§€ë§Œ asë¥¼ ì‚¬ìš©í•´ì„œ ìºìŠ¤íŒ…í•˜ëŠ” ë°©ë²•ì€ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.
// const ellieAfterPay = pay(ellie) as FullTimeEmployee;
// ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ !

const ellieAfterPay = pay(ellie);
const bobAfterPay = pay(bob);
// const bobAfterPay = pay(13); ì—ëŸ¬ ë°œìƒ

// ë‹¤ìŒ ì˜ˆì œ
const obj = {
  name: "ellie",
  age: 20,
};

const obj2 = {
  animal: "ğŸ¦™",
};

console.log(getValue(obj, "name")); // ellie
console.log(getValue(obj, "age")); // 20
console.log(getValue(obj2, "animal")); // ğŸ¦™

// keyof T ë¼ê³  í•˜ë©´ T ì•ˆì— ìˆëŠ” keyì˜ íƒ€ì…ì„ ë§í•œë‹¤.
function getValue<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

function getValue2<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}
```
